services:
  openclaw:
    build: .
    image: openclaw-daatan:local
    container_name: openclaw
    restart: unless-stopped
    group_add:
      - "999"
    volumes:
      - /home/ubuntu/projects:/workspace
      - /var/run/docker.sock:/var/run/docker.sock
      - ./config/unified.json:/home/node/.openclaw/openclaw.json:ro
      - /home/ubuntu/.ssh/id_github:/home/node/.ssh/id_ed25519:ro
      - /home/ubuntu/.ssh/id_github.pub:/home/node/.ssh/id_ed25519.pub:ro
    env_file:
      - .env
    extra_hosts:
      - "host.docker.internal:host-gateway"
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"
